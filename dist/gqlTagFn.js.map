{"version":3,"file":"gqlTagFn.js","names":["_Schemata","require","_neTagFns","gql","template","substitutions","string","handleSubstitutions","schemata","Schemata","from","ast","schemataProps","Object","getOwnPropertyNames","prototype","Proxy","get","target","prop","receiver","String","includes","targetProps","Reflect","_default","exports","default"],"sources":["../src/gqlTagFn.js"],"sourcesContent":["import { Schemata } from './Schemata'\nimport { handleSubstitutions } from 'ne-tag-fns'\n\n/**\n * A small wrapper that creates a Schemata instance when using template strings\n * by invoking the `gql` tag function in front of it.\n *\n * i.e.\n *   let sdl = gql`type Person { name: String }`\n *   console.log(sdl instanceof Schemata) // true\n *\n * @param {string} template   [description]\n * @param {Array<mixed>} substitutions [description]\n * @return {Schemata} an instance of Schemata wrapping the string in the\n * template\n */\nexport function gql(template, ...substitutions) {\n  const string = handleSubstitutions(template, ...substitutions)\n  const schemata = Schemata.from(string) \n  const ast = schemata.ast \n  const schemataProps = Object.getOwnPropertyNames(Schemata.prototype)\n  \n  return new Proxy(ast, {\n    get(target, prop, receiver) {\n      if (prop === \"schemata\")          { return schemata }    \n      if (prop === \"string\")            { return String(schemata) }      \n      if (schemataProps.includes(prop)) {\n        const targetProps = Object.getOwnPropertyNames(target)\n        if (!targetProps.includes(prop)) { \n          return schemata[prop] \n        }\n      }\n      \n      return Reflect.get(target, prop, receiver)\n    }\n  })\n  //return Schemata.from(handleSubstitutions(template, ...substitutions))\n}\n\nexport default gql"],"mappings":";;;;;;;AAAA,IAAAA,SAAA,GAAAC,OAAA;AACA,IAAAC,SAAA,GAAAD,OAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASE,GAAGA,CAACC,QAAQ,EAAE,GAAGC,aAAa,EAAE;EAC9C,MAAMC,MAAM,GAAG,IAAAC,6BAAmB,EAACH,QAAQ,EAAE,GAAGC,aAAa,CAAC;EAC9D,MAAMG,QAAQ,GAAGC,kBAAQ,CAACC,IAAI,CAACJ,MAAM,CAAC;EACtC,MAAMK,GAAG,GAAGH,QAAQ,CAACG,GAAG;EACxB,MAAMC,aAAa,GAAGC,MAAM,CAACC,mBAAmB,CAACL,kBAAQ,CAACM,SAAS,CAAC;EAEpE,OAAO,IAAIC,KAAK,CAACL,GAAG,EAAE;IACpBM,GAAGA,CAACC,MAAM,EAAEC,IAAI,EAAEC,QAAQ,EAAE;MAC1B,IAAID,IAAI,KAAK,UAAU,EAAW;QAAE,OAAOX,QAAQ;MAAC;MACpD,IAAIW,IAAI,KAAK,QAAQ,EAAa;QAAE,OAAOE,MAAM,CAACb,QAAQ,CAAC;MAAC;MAC5D,IAAII,aAAa,CAACU,QAAQ,CAACH,IAAI,CAAC,EAAE;QAChC,MAAMI,WAAW,GAAGV,MAAM,CAACC,mBAAmB,CAACI,MAAM,CAAC;QACtD,IAAI,CAACK,WAAW,CAACD,QAAQ,CAACH,IAAI,CAAC,EAAE;UAC/B,OAAOX,QAAQ,CAACW,IAAI,CAAC;QACvB;MACF;MAEA,OAAOK,OAAO,CAACP,GAAG,CAACC,MAAM,EAAEC,IAAI,EAAEC,QAAQ,CAAC;IAC5C;EACF,CAAC,CAAC;EACF;AACF;AAAC,IAAAK,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEcxB,GAAG","ignoreList":[]}